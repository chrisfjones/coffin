<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>

  <title>coffin - prettier aws cloudformation templates</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script>
  <script src="js/ace-0.2.0.js"></script>
  <script src="js/mode-coffee.js"></script>
  <script src="js/mode-json.js"></script>
  <script src="js/theme-idle_fingers.js"></script>
  <script>
    var CoffeeMode = require("ace/mode/coffee").Mode;
    var JsonMode = require("ace/mode/json").Mode;

    setupEditor = function(id, mode, source) {
      var ed = ace.edit(id);
      ed.setReadOnly(true);
      ed.setTheme("ace/theme/idle_fingers");
      ed.getSession().setMode(mode);
      $.get(source, function(data) {
        ed.getSession().setValue(data);
      });
    };

    window.onload = function() {
      setupEditor("before", new CoffeeMode(), "demo.coffin");
      setupEditor("after", new JsonMode(), "demo.template");
      setupEditor("embed", new CoffeeMode(), "demo.coffee");
   };

  </script>

  <style type="text/css">
    body {
      margin-top: 1.0em;
      font-family: Helvetica, Arial, FreeSans, san-serif;
    }
    a {
      color: black;
      text-decoration: underline;
    }
    #editorTable {
      margin: auto;
    }
    pre { background: #000; color: #fff; padding: 15px;}

    #embed {
      height: 200px;
    }

    #icon {
      position: absolute;
      top: 12px;
      left: 12px;
      opacity: 0.09;
    }
    .editor {
      position: relative;
      height: 600px;
   }
  </style>
</head>

<body>
  <a href="https://github.com/chrisfjones/coffin"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <img id="icon" src="big_coffin.png"></img>
    <div style="margin: auto; width: 1100px; margin-top: 42px;height:40px; position: relative;">
      <div style="position: absolute; left: 40px;">A <a href="http://jashkenas.github.com/coffee-script">coffee-script</a> dsl... </div>
      <div style="position: absolute; left: 610px;">for <a href="http://aws.amazon.com/cloudformation/">aws cloudformation</a> templates</div>
    </div>
    <table id="editorTable" cellpadding="8">
      <tr>
        <td>
          <div class="editor" id="before"></div>
        </td>
        <td>
          <div class="editor" id="after"></div>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          To use it, you'll need <a href="http://nodejs.org">node.js</a> and <a href="http://npmjs.org">npm</a>. Then...
        </td>
      </tr>
      <tr>
        <td colspan="2">
      <pre>&#x26b0; npm install -g coffin
&#x26b0; coffin --help

  Usage: coffin [options] [command] <coffin template>

  Commands:

    print [template]
    Print the compiled template.
   
    validate [template]
    Validate the compiled template. Either an AWS_CLOUDFORMATION_HOME environment variable or a --cfn-home switch is required.
   
    stack [name] [template]
    Create or update the named stack using the compiled template.
   
    compile [template]
    Compile and write the template. The output file will have the same name as the coffin template plus a ".template" extension.

  Options:

    -h, --help          output usage information
    -V, --version       output the version number
    -o, --output [dir]  Directory to output compiled file(s) to
    -p, --pretty        Add spaces and stuff to the resulting json to make it a little prettier
    --cfn-home [dir]    The home of your AWS Cloudformation tools. Defaults to your AWS_CLOUDFORMATION_HOME environment variable.
      </pre>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          ...or...
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <div id="embed" class="editor"></div>
        </td>
      </tr>
    </table>

</body>
</html>
